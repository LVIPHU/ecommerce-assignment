{"ast":null,"code":"import * as constants from \"../constants/Auth\";\nimport axios from \"axios\";\nconst action = {\n  register: (firstName, lastName, email, phoneNumber, password) => async dispatch => {\n    try {\n      dispatch({\n        type: constants.USER_REGISTER_REQUEST\n      });\n      const config = {\n        header: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      console.log(email);\n      console.log(password);\n      const data = await axios.post(\"https://ecommerce-nashtech-assignment.herokuapp.com/api/auth/signup\", {\n        firstName,\n        lastName,\n        email,\n        phoneNumber,\n        password\n      }, config);\n      const userInfo = dispatch({\n        type: constants.USER_REGISTER_SUCCESS,\n        payload: (firstName, lastName, email, phoneNumber)\n      });\n      dispatch({\n        type: constants.USER_LOGIN_SUCCESS,\n        payload: (firstName, lastName, email, phoneNumber)\n      });\n      localStorage.setItem(\"userInfo\", JSON.stringify(firstName, lastName, email, phoneNumber));\n    } catch (error) {\n      dispatch({\n        type: constants.USER_REGISTER_FAIL,\n        payload: error.message\n      });\n      console.log(error.message);\n    }\n  },\n  login: (email, password) => async dispatch => {\n    try {\n      dispatch({\n        type: constants.USER_LOGIN_REQUEST\n      });\n      const config = {\n        header: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      console.log(email);\n      console.log(password);\n      const data = await axios.post(\"https://ecommerce-nashtech-assignment.herokuapp.com/api/auth/signin\", {\n        email,\n        password\n      }, config);\n      dispatch({\n        type: constants.USER_LOGIN_SUCCESS,\n        payload: data\n      });\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\n    } catch (error) {\n      dispatch({\n        type: constants.USER_LOGIN_FAIL,\n        payload: error.message\n      });\n      console.log(error.message);\n    }\n  },\n  logout: () => dispatch => {\n    localStorage.removeItem(\"userInfo\");\n    dispatch({\n      type: constants.USER_LOGOUT\n    });\n    document.location.href = \"/Sign-In\";\n  }\n};\nexport default action;","map":{"version":3,"names":["constants","axios","action","register","firstName","lastName","email","phoneNumber","password","dispatch","type","USER_REGISTER_REQUEST","config","header","console","log","data","post","userInfo","USER_REGISTER_SUCCESS","payload","USER_LOGIN_SUCCESS","localStorage","setItem","JSON","stringify","error","USER_REGISTER_FAIL","message","login","USER_LOGIN_REQUEST","USER_LOGIN_FAIL","logout","removeItem","USER_LOGOUT","document","location","href"],"sources":["D:/CODE/REACTJS/ecommerce-assignment/ecommerce-frontend/User/src/redux/actions/Auth.js"],"sourcesContent":["import * as constants from \"../constants/Auth\";\r\nimport  axios  from \"axios\";\r\n\r\nconst action = {\r\n  register: (firstName, lastName, email, phoneNumber, password) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: constants.USER_REGISTER_REQUEST });\r\n      const config = {\r\n        header: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      console.log(email)\r\n      console.log(password)\r\n      const data  = await axios.post(\r\n        \"https://ecommerce-nashtech-assignment.herokuapp.com/api/auth/signup\",\r\n        {firstName, lastName, email, phoneNumber, password},\r\n        config\r\n      );\r\n      const userInfo =\r\n      dispatch({ type: constants.USER_REGISTER_SUCCESS, payload: (firstName, lastName, email, phoneNumber) });\r\n      dispatch({ type: constants.USER_LOGIN_SUCCESS, payload: (firstName, lastName, email, phoneNumber) });\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(firstName, lastName, email, phoneNumber));\r\n    } catch (error) {\r\n        dispatch({\r\n            type: constants.USER_REGISTER_FAIL,\r\n            payload: error.message,\r\n        });\r\n        console.log(error.message)\r\n    }\r\n  },\r\n  login: (email, password) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: constants.USER_LOGIN_REQUEST });\r\n      const config = {\r\n        header: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      console.log(email)\r\n      console.log(password)\r\n      const data  = await axios.post(\r\n        \"https://ecommerce-nashtech-assignment.herokuapp.com/api/auth/signin\",\r\n        {email, password},\r\n        config\r\n      );\r\n      dispatch({ type: constants.USER_LOGIN_SUCCESS, payload: data });\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n    } catch (error) {\r\n        dispatch({\r\n            type: constants.USER_LOGIN_FAIL,\r\n            payload: error.message,\r\n        });\r\n        console.log(error.message)\r\n    }\r\n  },\r\n  logout: () => (dispatch) => {\r\n    localStorage.removeItem(\"userInfo\");\r\n    dispatch({ type: constants.USER_LOGOUT });\r\n    document.location.href = \"/Sign-In\"\r\n  },\r\n};\r\n\r\nexport default action;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}