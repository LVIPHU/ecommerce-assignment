{"ast":null,"code":"import * as constants from \"../constants/Auth\";\nimport { axios } from \"axios\";\nconst action = {\n  login: (email, password) => async dispatch => {\n    try {\n      dispatch({\n        type: constants.USER_LOGIN_REQUEST\n      });\n      const config = {\n        header: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      console.log(email);\n      console.log(password);\n      let data = await axios.post(\"https://ecommerce-nashtech-assignment.herokuapp.com/api/auth/signin\", {\n        email,\n        password\n      }, config); // data = await data.json();\n\n      console.log(data.data);\n      dispatch({\n        type: constants.USER_LOGIN_SUCCESS,\n        payload: data\n      });\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\n    } catch (error) {\n      dispatch({\n        type: constants.USER_LOGIN_FAIL,\n        payload: error.response && error.response.data.message ? error.response.data.message : error.response\n      });\n    }\n  }\n};\nexport default action;","map":{"version":3,"names":["constants","axios","action","login","email","password","dispatch","type","USER_LOGIN_REQUEST","config","header","console","log","data","post","USER_LOGIN_SUCCESS","payload","localStorage","setItem","JSON","stringify","error","USER_LOGIN_FAIL","response","message"],"sources":["D:/CODE/REACTJS/ecommerce-assignment/ecommerce-frontend/User/src/redux/actions/Auth.js"],"sourcesContent":["import * as constants from \"../constants/Auth\";\r\nimport { axios } from \"axios\";\r\n\r\nconst action = {\r\n  login: (email, password) => async (dispatch) => {\r\n    try {\r\n      dispatch({ type: constants.USER_LOGIN_REQUEST });\r\n      const config = {\r\n        header: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      };\r\n      console.log(email)\r\n      console.log(password)\r\n      let data  = await axios.post(\r\n        \"https://ecommerce-nashtech-assignment.herokuapp.com/api/auth/signin\",\r\n        {email, password},\r\n        config\r\n      );\r\n      // data = await data.json();\r\n      console.log(data.data)\r\n      dispatch({ type: constants.USER_LOGIN_SUCCESS, payload: data });\r\n      localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n    } catch (error) {\r\n        dispatch({\r\n            type: constants.USER_LOGIN_FAIL,\r\n            payload: \r\n                error.response && error.response.data.message\r\n                    ?   error.response.data.message\r\n                    :   error.response,\r\n            });\r\n    }\r\n  },\r\n};\r\n\r\nexport default action;\r\n"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,mBAA3B;AACA,SAASC,KAAT,QAAsB,OAAtB;AAEA,MAAMC,MAAM,GAAG;EACbC,KAAK,EAAE,CAACC,KAAD,EAAQC,QAAR,KAAqB,MAAOC,QAAP,IAAoB;IAC9C,IAAI;MACFA,QAAQ,CAAC;QAAEC,IAAI,EAAEP,SAAS,CAACQ;MAAlB,CAAD,CAAR;MACA,MAAMC,MAAM,GAAG;QACbC,MAAM,EAAE;UACN,gBAAgB;QADV;MADK,CAAf;MAKAC,OAAO,CAACC,GAAR,CAAYR,KAAZ;MACAO,OAAO,CAACC,GAAR,CAAYP,QAAZ;MACA,IAAIQ,IAAI,GAAI,MAAMZ,KAAK,CAACa,IAAN,CAChB,qEADgB,EAEhB;QAACV,KAAD;QAAQC;MAAR,CAFgB,EAGhBI,MAHgB,CAAlB,CATE,CAcF;;MACAE,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACA,IAAjB;MACAP,QAAQ,CAAC;QAAEC,IAAI,EAAEP,SAAS,CAACe,kBAAlB;QAAsCC,OAAO,EAAEH;MAA/C,CAAD,CAAR;MACAI,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeP,IAAf,CAAjC;IACD,CAlBD,CAkBE,OAAOQ,KAAP,EAAc;MACZf,QAAQ,CAAC;QACLC,IAAI,EAAEP,SAAS,CAACsB,eADX;QAELN,OAAO,EACHK,KAAK,CAACE,QAAN,IAAkBF,KAAK,CAACE,QAAN,CAAeV,IAAf,CAAoBW,OAAtC,GACQH,KAAK,CAACE,QAAN,CAAeV,IAAf,CAAoBW,OAD5B,GAEQH,KAAK,CAACE;MALb,CAAD,CAAR;IAOH;EACF;AA7BY,CAAf;AAgCA,eAAerB,MAAf"},"metadata":{},"sourceType":"module"}